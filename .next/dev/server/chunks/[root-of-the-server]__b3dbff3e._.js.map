{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///F:/hbowa-solar-solutions%20%281%29/app/api/inquiry/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport nodemailer from 'nodemailer'\r\n\r\n// 1. 创建 SMTP 传输器\r\nconst transporter = nodemailer.createTransport({\r\n  host: 'smtp.qq.com',\r\n  port: 465,\r\n  secure: true,\r\n  auth: {\r\n    user: process.env.SMTP_USER, // 你的邮箱\r\n    pass: process.env.SMTP_PASS, // 邮箱授权码（非登录密码）\r\n  },\r\n})\r\n\r\n// ===== 临时打印：调试完删除或注释 =====\r\nconsole.log('>>> SMTP_USER:', process.env.SMTP_USER)\r\nconsole.log('>>> SMTP_PASS exists:', !!process.env.SMTP_PASS)\r\n// =====================================\r\n\r\n// 2. 处理 POST 请求\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const { name, email, phone, country, message } = await req.json()\r\n\r\n    await transporter.sendMail({\r\n      from: `\"HBOWA Web\" <${process.env.SMTP_USER}>`,\r\n      to: process.env.RECV_MAIL, // 收问卷的邮箱（可以和自己发件箱相同）\r\n      subject: `New Inquiry from ${name}`,\r\n      html: `\r\n        <p><strong>Name:</strong> ${name}</p>\r\n        <p><strong>Email:</strong> ${email}</p>\r\n        <p><strong>Phone:</strong> ${phone}</p>\r\n        <p><strong>Country:</strong> ${country}</p>\r\n      <p><strong>Message:</strong><br/>${message}</p>\r\n      `,\r\n    })\r\n\r\n    return NextResponse.json({ ok: true })\r\n  } catch (err: any) {\r\n    console.error('Mail error:', err.message)\r\n    return NextResponse.json({ ok: false, msg: err.message }, { status: 500 })\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,iBAAiB;AACjB,MAAM,cAAc,oNAAU,CAAC,eAAe,CAAC;IAC7C,MAAM;IACN,MAAM;IACN,QAAQ;IACR,MAAM;QACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;QAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC7B;AACF;AAEA,4BAA4B;AAC5B,QAAQ,GAAG,CAAC,kBAAkB,QAAQ,GAAG,CAAC,SAAS;AACnD,QAAQ,GAAG,CAAC,yBAAyB,CAAC,CAAC,QAAQ,GAAG,CAAC,SAAS;AAIrD,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAE/D,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM,CAAC,aAAa,EAAE,QAAQ,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;YAC9C,IAAI,QAAQ,GAAG,CAAC,SAAS;YACzB,SAAS,CAAC,iBAAiB,EAAE,MAAM;YACnC,MAAM,CAAC;kCACqB,EAAE,KAAK;mCACN,EAAE,MAAM;mCACR,EAAE,MAAM;qCACN,EAAE,QAAQ;uCACR,EAAE,QAAQ;MAC3C,CAAC;QACH;QAEA,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAK;IACtC,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,eAAe,IAAI,OAAO;QACxC,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,KAAK,IAAI,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IAC1E;AACF"}}]
}